import{v as O,w as _,x as y,E as L,y as U,H as k,z as m,A as F,B as H,C as g,D as p,F as A,G as E,U as M,I as Y,J as d,K as q,e as w,L as B,S as C,M as N,N as P,h as z,O as G,P as J,Q as K}from"./CF-fjnMp.js";import{a as Q,g as Z}from"./DiRpD8Sz.js";function V(s,t,[a,e]=[0,0]){_&&a===0&&y();var i=s,r=null,u=null,n=M,h=a>0?L:0,c=!1;const R=(o,f=!0)=>{c=!0,T(f,o)},T=(o,f)=>{if(n===(n=o))return;let I=!1;if(_&&e!==-1){if(a===0){const b=U(i);b===k?e=0:b===m?e=1/0:(e=parseInt(b.substring(1)),e!==e&&(e=n?1/0:-1))}const D=e>a;!!n===D&&(i=F(),H(i),g(!1),I=!0,e=-1)}n?(r?p(r):f&&(r=A(()=>f(i))),u&&E(u,()=>{u=null})):(u?p(u):f&&(u=A(()=>f(i,[a+1,e]))),r&&E(r,()=>{r=null})),I&&g(!0)};O(()=>{c=!1,t(R),c||T(null,null)},h),_&&(i=Y)}function S(s,t){return s===t||s?.[C]===t}function W(s={},t,a,e){return d(()=>{var i,r;return q(()=>{i=r,r=[],w(()=>{s!==a(...r)&&(t(s,...r),i&&S(a(...i),s)&&t(null,...i))})}),()=>{B(()=>{r&&S(a(...r),s)&&t(null,...r)})}}),s}let l=!1,v=Symbol();function X(s,t,a){const e=a[t]??={store:null,source:P(void 0),unsubscribe:N};if(e.store!==s&&!(v in a))if(e.unsubscribe(),e.store=s??null,s==null)e.source.v=void 0,e.unsubscribe=N;else{var i=!0;e.unsubscribe=Q(s,r=>{i?e.source.v=r:K(e.source,r)}),i=!1}return s&&v in a?Z(s):z(e.source)}function x(){const s={};function t(){G(()=>{for(var a in s)s[a].unsubscribe();J(s,v,{enumerable:!1,value:!0})})}return[s,t]}function ss(s,t,a){return s.set(a),t}function es(s){var t=l;try{return l=!1,[s(),l]}finally{l=t}}export{X as a,W as b,es as c,ss as d,V as i,x as s};
